const authorNames = new Set<string>();
const projectKeys = new Set<string>();
const authorEmails = new Set<string>();
const repoSlugs = new Set<string>();
const spkCounts = new Set<string>();
const teamCounts = new Set<string>();
const delBydh = new Set<string>();
const deliveryLeads = new Set<string>();

let totalCommits = 0;

this.BBdata.forEach(item => {
  authorNames.add(item.AuthorName);
  projectKeys.add(item.ProjectKey);
  authorEmails.add(item.AuthorEmail);
  repoSlugs.add(item.Reposlug);
  spkCounts.add(item.ProjectKey); // same as projectKeys, maybe redundant?
  teamCounts.add(item.Team);
  delBydh.add(item.Del?.any); // check for null safely
  deliveryLeads.add(item.DeliveryLeader);

  totalCommits += item.TotalCommits || 0;
});

this.uniqueBBContributorsCount = authorNames.size;
this.uniqueContributors = projectKeys.size;
this.uniqueNonContributors = authorEmails.size;
this.total = totalCommits;
this.uniqueRepoCount = repoSlugs.size;
this.uniqueSPKCount = spkCounts.size;
this.uniqueTeamCount = teamCounts.size;
this.bbdatabydh = delBydh.size;
this.bbdatabydl = deliveryLeads.size;
